{% extends 'music/base.html' %}
{% block title %}Album Details{% endblock %}

{% block body %}

    <!-- https://docs.djangoproject.com/en/2.0/intro/tutorial04/ -->
    <img src="{{ album.album_logo }}">

    <h1>{{ album.album_title }}</h1>
    <h3>{{ album.artist }}</h3>

    {% if error_message %}
        <p><strong>{{ error_message }}</strong></p>
    {% endif %}

    <form action="{% url 'music:favorite' album.id %}" method="post">  <!-- Method=post means submitting this form will alter-data server side
        url 'music:favorite' album.id will send the submitted data to the url views.favorite in music -->
        {% csrf_token %}
        {% for song in album.song_set.all %}
            <input type="radio" id="song{{ forloop.counter }}" name="song" value="{{song.id}}">
            <!-- Name="song" means when the radio button is selected and the form submitted, it'll send the POST data song=# (# is the id of the selected choice) -->
            <label for="song{{ forloop.counter }}">
                {{ song.song_title }}
                {% if song.is_favorite %}
                    <img src="http://i.imgur.com/b9b13Rd.png" />
                {% endif %}
            </label><br>
        {% endfor %}
        <input type="submit" value="Favorite">
    </form>

{% endblock %}
